{{ block "index" . }}
<!DOCTYPE html>
<html lang="en">
    <head>
        <script type="text/javascript" src="./htmx.js" ></script>
    </head>

    <button hx-get="/tasks" hx-target="#task-list" hx-trigger="load, click">Reload Tasks</button>


    <form hx-post="/task" hx-target="#task-list" hx-swap="beforeend">
        <input type="text" name="taskname" />
        <button type="submit"> + add to list</button>
    </form>


    <section id="tasks-section">
        <h1>Tasks:</h1>
        <div id="task-list">
            Loading tasks ...

        </div>
    </section>

    <section id="times-section">
        <h1>Times:</h1>
        <button hx-get="/times" hx-target="#times-list">all</button>
        <div id="times-list">

        </div>
    </section>

</html>
{{ end }}





{{ block "task_list" . }}
    <div id="task-entry-{{ .Id }}" style="all: unset; display: block">
        <a href="#" 
            hx-get="/times/{{ .Id }}"
            hx-target="#times-list"
        >{{ .Name }}</a>
        <button 

            hx-delete="/task/{{ .Id }}"
            hx-confirm="Do you want to delete this task and all its times?"
            hx-target="#task-entry-{{ .Id }}"
            hx-swap="delete"

        >&times;</button>
    </div>
{{ end }}

{{ block "times_list" . }}
    <div id="times-entry-{{ .Id }}" style="all: unset; display: block">

        <button 
            hx-delete="/times/{{ .Id }}"
            hx-confirm="Do you want to delete this time?"
            hx-target="#times-entry-{{ .Id }}"
            hx-swap="delete"
        >&times;</button>
    </div>
{{ end }}
